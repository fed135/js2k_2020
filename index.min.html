<canvas width="800"height="480"style="width:800px;height:480px;background-color:#113;"id="a"></canvas><script>
var g=document.getElementById("a"),h=g.getContext("2d");
var l=a=>{for(var c="",f=0;f<a.length;f++){var k=(a.charCodeAt(f)-64).toString(2);c+="00000000".slice(String(k).length);c+=String(k)}return c.split("")};var n=(a,c)=>28>Math.pow(Math.pow(a.x-c.x,2)+Math.pow(a.y-c.y,2),.5);
var p=a=>{if(q[a.a])a.c=q[a.a];else{var [f,k,c]=a.a.split(",");var E=l(f),r=new OffscreenCanvas(32,4*f.length),m=r.getContext("2d");m.fillStyle="#"+(k||"00000000");m.fillRect(0,0,32,4*f.length);E.map((F,y)=>{"1"==F&&m.rect(y%8*4,4*~~(y/8),4,4)});m.fillStyle="#"+c;m.fill();a.c=r;q[a.a]=r}};var t={l:3,x:180,y:350,f:3,b:0,h:0,m:!1},u=0,v=!1,w=0,x=[[],[],[],[],[]];
onkeydown=a=>{32!=a.keyCode||t.i||t.j||(t.o=!0);88!=a.keyCode||v||(v=!0,setTimeout(_=>v=!1,388),x[2].push({x:t.x+32,y:t.y+8,f:5,b:0,a:z[2],g:A,h:0}),p(x[2][x[2].length-1]))};
var A=0,z="\u00bc\u013e\u00ef\u00ef\u013f\u013f\u0098\u0098,,fff \u013f\u00c8\u00c8\u00c8\u013fbbb,,000 Xd\u0082\u00d9\u00d9\u0082dX,,fff |\u0082\u00e5\u00d9\u00d9\u00e5\u0082|,,fcc |\u008a\u00d1\u011d\u00fb\u00c9\u0092|,,fee ^^^~|\u00b8\u00bc\u00bf\u00bf~\\||\u00b6\u0126\u0126,,fb5 @||||\u00bc\u00bf\u00bf\u00be||||ttt,,fb5 @^^~~\u00be\u00bc\u00bf\u00bf\u00be||||\\\\,,fb5 \u00ac\u013e\u013e\u013e\u00bcxP@,,f00 \u00bc\u013e\u008b\u00f7\u008b\u013f\u0098\u0098,,666 @@@PHDfo\u00be\u013f,,fff".split(" "),q=
{},B={a:z[1]};p(B);var C=h.createPattern(B.c,"repeat"),D={a:z[8]};p(D);var G=_=>{A++;0==A%300&&(A=0);setTimeout(G,16);g.width=g.width;0!=A%6&&t.a||(t.a=z[++t.h%3+5],p(t));t.y+=t.b;u+=t.f;t.o?(t.b=-20,t.i=!0,t.o=!1):t.i?(t.b*=.9,-1<=t.b&&(t.i=!1,t.j=!0,t.b=3)):t.j&&(t.b*=1.1,350<=t.y&&(t.y=350,t.b=0,t.j=!1));H();I();J();x.map(a=>a.map(c=>c.c&&h.drawImage(c.c,c.x,c.y)));t.m?(t.y=-1E3,t.f=0,h.fillText("GAME OVER",350,180)):h.drawImage(t.c,t.x,t.y,32,64)}
var H=_=>{h.fillStyle="#343";h.fillRect(0,414,800,130);h.fillStyle=C;h.save();h.translate(-(u%32),0);h.fillRect(0,414,880,130);h.restore();h.font="20px impact";h.fillStyle="#fff";h.fillText(~~(u+w),20,20);for(var a=0;a<t.l;a++)h.drawImage(D.c,80+32*a,80)};var I=_=>{x[2].map((a,c,f)=>{0==(A-a.g)%5&&(a.a=z[++a.h%3+2],p(a));a.x+=a.f;a.y+=a.b;x[4].map(k=>{n(a,k)&&(k.s=!0,w+=100,f.splice(c,1),0===w%1E3&&t.l++)})})}
var J=_=>{~~u%100==~~(100*Math.random())&&(x[4].push({x:800,y:250*Math.random()+100,a:z[0],g:A}),p(x[4][x[4].length-1]));~~u%100==~~(100*Math.random())&&(x[3].push({x:800,y:374,a:z[10]}),p(x[3][x[3].length-1]));[...x[4],...x[3]].map(a=>{a.s?(a.a=z[9],p(a),a.y+=4):(a.x-=3,a.g&&(a.y+=a.g%4*Math.sin(a.x/20)*4),n(t,a)&&(1>--t.l&&(t.m=!0),a.s=!0))})};G();
</script>